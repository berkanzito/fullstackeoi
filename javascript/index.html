<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" media="all" href="css/style.css" />
    <script defer src="js/main.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <title>Roll the dice!</title>
</head>
<body>

<div class="content">
  <div class="die">
    <figure class="face face-1"></figure>
    <figure class="face face-2"></figure>
    <figure class="face face-3"></figure>
    <figure class="face face-4"></figure>
    <figure class="face face-5"></figure>
    <figure class="face face-6"></figure>
    <figure class="face face-7"></figure>
    <figure class="face face-8"></figure>
    <figure class="face face-9"></figure>
    <figure class="face face-10"></figure>
    <figure class="face face-11"></figure>
    <figure class="face face-12"></figure>
    <figure class="face face-13"></figure>
    <figure class="face face-14"></figure>
    <figure class="face face-15"></figure>
    <figure class="face face-16"></figure>
    <figure class="face face-17"></figure>
    <figure class="face face-18"></figure>
    <figure class="face face-19"></figure>
    <figure class="face face-20"></figure>
  </div>
</div>

<div class="container">
    <div class="dice a">
      Attack
      
      <div class="daresult" id="gimme">
        
      </div>
      <button onClick="attackDice()">Roll the dice</button>
      
    </div>
    <div class="dice b">
      Defense
          <div class="daresult" id="gimmed">
        
      </div>
      <button onClick="defenseDice()">Roll the dice</button>
    </div>
    <div class="dice c">
      Atribute Dice
          <div class="daresult" id="gimmea">
        
      </div>
      <button onClick="atributeDice()">Roll the dice</button>
    </div>
    
  </div>
  <div class="contenedor">
    <div class="bg-light">
      <p>Attacks:</p>
      <p id="ataques"></p>
    </div>
    <div class="bg-light">
      <p>Defense:</p>
      <p id="defensas"></p>
    </div>
    <div class="bg-light">
      <p>Atribute:</p>
      <p id="atributos"></p>
    </div>
  </div>
  <script>
  var $die = $(".die"),
  sides = 20,
  initialSide = 1,
  lastFace,
  timeoutId,
  transitionDuration = 500,
  animationDuration = 3000;


function randomFace() {
  var face = Math.floor(Math.random() * sides) + initialSide;
  lastFace = face == lastFace ? randomFace() : face;
  return face;
}

function rollTo(face) {
  clearTimeout(timeoutId);

  $("ul > li > a").removeClass("active");
  $("[href=" + face + "]").addClass("active");

  $die.attr("data-face", face);
}

function reset() {
  $die.attr("data-face", null).removeClass("rolling");
}

$(".randomize, .die").click(function() {
  $die.addClass("rolling");
  clearTimeout(timeoutId);

  timeoutId = setTimeout(function() {
    $die.removeClass("rolling");

    rollTo(randomFace());
  }, animationDuration);

  return false;
});
</script>
</body>
</html>